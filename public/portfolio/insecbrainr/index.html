<!DOCTYPE html>
<html lang="en-uk">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Dr. Alexander S. Bates</title>
<meta name="description" content="A personal website for A.S. Bates">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://as-bates.netlify.app/css/bootstrap.min.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="https://as-bates.netlify.app/css/font-awesome.min.css">
<link rel="stylesheet" href="https://as-bates.netlify.app/css/owl.carousel.css">
<link rel="stylesheet" href="https://as-bates.netlify.app/css/owl.theme.css">


  <link href="https://as-bates.netlify.app/css/style.default.css" rel="stylesheet" id="theme-stylesheet">

 

  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


<link href="https://as-bates.netlify.app/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="https://as-bates.netlify.app/img/favicon.png">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-CS20J7NBN8', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body>
  <div id="all">
      <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left">
              <div id="sidebar" class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
  <div class="sidebar-content">
    <h1 class="sidebar-heading"><a href="https://as-bates.netlify.app/">Dr. Alexander S. Bates</a></h1>
    
      <p class="sidebar-p">I am a neuroscientist and small-time programmer. I work on insect brains. I am interested in how neurons wire together, and how they work together to build complex, innate behaviours.</p>
    
      <p class="sidebar-p">Originally from London, once of Cambridge, currently in Boston. I like to collaborate, exchange ideas and gossip. This website exists to help you get to know science-me and vinegar fly brains.</p>
    
      <p class="sidebar-p">“But - I thought flies didn’t have brains?” ~ Joan Bates, Grandmother, circa. Summer 2016</p>
    
    <ul class="sidebar-menu">
      
        <li><a href="https://as-bates.netlify.app/portfolio/">home</a></li>
      
        <li><a href="https://as-bates.netlify.app/about/">about</a></li>
      
        <li><a href="https://as-bates.netlify.app/timeline/">timeline</a></li>
      
        <li><a href="https://as-bates.netlify.app/CV/">CV</a></li>
      
        <li><a href="https://as-bates.netlify.app/publications/">publications</a></li>
      
        <li><a href="https://as-bates.netlify.app/contact/">get in touch</a></li>
      
    </ul>
    <p class="social">
  
  
  
  <a href="https://twitter.com/as_bates" data-animate-hover="pulse" class="external twitter">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  <a href="mailto:Alexander_Bates@hms.harvard.edu" data-animate-hover="pulse" class="email">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://www.linkedin.com/in/alex-bates-22a265a7/" data-animate-hover="pulse" class="external">
    <i class="fa fa-linkedin"></i>
  </a>
  
  
  
  <a href="https://github.com/alexanderbates" data-animate-hover="pulse" class="external">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
</p>


    <div class="copyright">
      <p class="credit">
        
          &copy;2021 Alexander Shakeel Bates |
        
        Template by <a href="https://bootstrapious.com/free-templates" class="external">Bootstrapious.com</a>

&amp; ported to Hugo by <a href="https://github.com/kishaningithub">Kishan B</a>

      </p>
    </div>
  </div>
</div>

              
<div class="col-xs-12 col-sm-8 col-md-9 content-column white-background">
  <div class="small-navbar visible-xs">
  <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
  <h1 class="small-navbar-heading"><a href="https://as-bates.netlify.app/">Dr. Alexander S. Bates</a></h1>
</div>

  <div class="row">
    <div class="col-lg-8">
      <div class="content-column-content">
         <h1>code - insectbrainr</h1>
         <img src="https://raw.githubusercontent.com/natverse/insectbrainr/6331b4df63b9ac13c6cddd781fca8c637f07aa6d/man/figures/logo.svg" align="right" height="139" /></p>
<p>The goal of <em>insectbrainr</em> is to provide R client utilities for interacting with the <a href="https://insectbraindb.org/app/">Insect Brain Database</a>. Using this R package in concert with the <a href="https://github.com/natverse/natverse">natverse</a> ecosystem of neuroanatomy tools is highly recommended. The <a href="https://insectbraindb.org/app/">InsectBrainDB.org</a> is primarily curated by <a href="https://www.biology.lu.se/stanley-heinze">Stanley Heinze</a>. Learn more about the project <a href="https://insectbraindb.org/app/about">here</a>. Find it on GitHub <a href="https://github.com/natverse/insectbrainr">here</a>.
<!--more--></p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>Firstly, you will need R, R Studio and X Quartz as well as nat and its dependencies. For detailed installation instructions for all this, see <a href="https://jefferis.github.io/nat/articles/Installation.html">here</a>. It should not take too long at all. Then:</p>
<pre class="r"><code># install
if (!require(&quot;devtools&quot;)) install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;natverse/insectbrainr&quot;)

# use 
library(insectbrainr)</code></pre>
<p>Done!</p>
</div>
<div id="key-functions" class="section level2">
<h2>Key Functions</h2>
<p>Now we can have a look at what is available, here are some of the key functions. Their help details examples of their use. You can summon the help in RStudio using <code>?</code> followed by the function name.</p>
<pre class="r"><code># And how can I read neurons from the insectbrainDB?
?insectbrainr_read_neurons()

# Get 3D neuropil-subdivided brain models for those brainspaces
?insectbraindb_read_brain # Get 3D neuropil-subdivided brain models for those brainspaces</code></pre>
</div>
<div id="example" class="section level2">
<h2>Example</h2>
<p>Let’s also have a look at an example pulling neurons and brain meshes from <a href="https://insectbraindb.org/app/">insectbraindb.org</a>. Here we shall take a look at neurons from the brain of the Monarch butterlfy that have been registered to a template brain. Excitingly, we can also visualise this template brain.</p>
<pre class="r"><code>## What neurons does the insectbraindb.org host?
available.neurons = insectbraindb_neuron_info()

## Let&#39;s just download all of the neurons in the database to play with,
## there are not very many:
nrow(available.neurons)

## First, we call the read neurons function, with ids set to NULL
insect.neurons = insectbraindb_read_neurons(ids = NULL)

## Hmm, let&#39;s see how many neurons we have perspecies
table(insect.neurons[,&quot;common_name&quot;])

## So, it seem the Monarch Butterfly is the clear winner there, 
## maybe let&#39;s just have those
butterfly.neurons = subset(insect.neurons, common_name == &quot;Monarch Butterfly&quot;)

## And let&#39;s plot them
nat::nopen3d(userMatrix = structure(c(0.999986588954926, -0.00360279157757759, 
-0.00371213257312775, 0, -0.00464127957820892, -0.941770493984222, 
-0.336223870515823, 0, -0.00228461623191833, 0.336236596107483, 
-0.941774606704712, 0, 0, 0, 0, 1), .Dim = c(4L, 4L)), zoom = 0.600000023841858, 
    windowRect = c(1460L, 65L, 3229L, 1083L))
plot3d(butterfly.neurons, lwd = 2, soma = 5)

## Cool! But maybe we also want to see it&#39;s template brain? 
## Let&#39;s check if they have it
available.brains = insectbraindb_species_info()
available.brains

## Great, they do, let&#39;s get it
butterfly.brain = insectbraindb_read_brain(species = &quot;Danaus plexippus&quot;)

## And plot in a translucent manner
plot3d(butterfly.brain, alpha = 0.1)

## Oop, that&#39;s a lot of neuropils. 
## Let&#39;s go for only a subset. What&#39;s available?
butterfly.brain$RegionList
butterfly.brain$neuropil_full_names

## There lateral horn (LH) and the antennal lobe (AL) are my favourites.
## Let&#39;s plot those
clear3d()
plot3d(subset(butterfly.brain, &quot;LH|AL&quot;), alpha = 0.5)
plot3d(butterfly.neurons, lwd = 2, soma = 5)

### Ffff, doesn&#39;t look like we have any neurons in my favourite neuropils :(</code></pre>
<div class="figure">
<img src="https://raw.githubusercontent.com/natverse/insectbrainr/master/inst/images/butterfly_brain_neurons.png" alt="" />
<p class="caption">butterfly_brain_neurons</p>
</div>
</div>
<div id="acknowledging-the-data-and-tools" class="section level2">
<h2>Acknowledging the data and tools</h2>
<p>The <a href="https://insectbraindb.org/">insectbraindb.org</a> has a <a href="https://insectbraindb.org/app/terms">terms of use</a>, which provides guidance on how best to credit data from these repositories. Most neurons have an associated publication that you can find on the repository websites.</p>
<p>This package was created by Alexander Shakeel Bates, while in the group of <a href="https://en.wikipedia.org/wiki/Gregory_Jefferis">Dr. Gregory Jefferis</a>. You can cite this package as:</p>
<pre class="r"><code>citation(package = &quot;insectbrainr&quot;)</code></pre>
<p><strong>Bates AS</strong> (2019). <em>insectbrainr: R client utilities for interacting with the InsectBrainDB.org.</em> <strong>R package</strong> version 0.1.0. <a href="https://github.com/natverse/insectbrainr" class="uri">https://github.com/natverse/insectbrainr</a></p>
</div>
<div id="acknowledgements" class="section level2">
<h2>Acknowledgements</h2>
<p>The <a href="https://insectbraindb.org/app/">insectbraindb.org</a> is primarily curated by <a href="https://www.biology.lu.se/stanley-heinze">Dr. Stanley Heinze</a>, and was buily by <a href="https://tedore.com/">Kevin Tedore</a>, and has several significant <a href="https://insectbraindb.org/app/">supporters</a>, including the ERC.</p>
</div>

         
      </div>
    </div>
  </div>
</div>

          </div>
      </div>
  </div>
  <script src="https://as-bates.netlify.app/js/jquery.min.js"></script>
<script src="https://as-bates.netlify.app/js/bootstrap.min.js"></script>
<script src="https://as-bates.netlify.app/js/jquery.cookie.js"> </script>
<script src="https://as-bates.netlify.app/js/ekko-lightbox.js"></script>
<script src="https://as-bates.netlify.app/js/jquery.scrollTo.min.js"></script>
<script src="https://as-bates.netlify.app/js/masonry.pkgd.min.js"></script>
<script src="https://as-bates.netlify.app/js/imagesloaded.pkgd.min.js"></script>
<script src="https://as-bates.netlify.app/js/owl.carousel.min.js"></script>
<script src="https://as-bates.netlify.app/js/front.js"></script>



</body>
</html>
